---
const steps = [
  {
    number: "1",
    title: "Build exercises",
    icon: "file-edit",
  },
  {
    number: "2",
    title: "Students submit from any phone",
    icon: "smartphone",
  },
  {
    number: "3",
    title: "AI helps you grade",
    icon: "sparkles",
  },
];
---

<section class="px-6 py-24 md:py-32">
  <div class="mx-auto max-w-5xl">
    <h2
      data-reveal
      class="font-heading mb-20 text-center text-3xl font-bold tracking-tight text-foreground md:text-4xl"
    >
      How it works
    </h2>

    <div class="relative">
      <!-- Connecting gradient line (desktop) -->
      <div
        class="absolute top-[44px] left-[16.67%] right-[16.67%] hidden h-px sm:block"
        style="background: linear-gradient(to right, oklch(0.541 0.225 259.02 / 0.15), oklch(0.762 0.174 74.34 / 0.25), oklch(0.541 0.225 259.02 / 0.15));"
        aria-hidden="true"
      ></div>

      <div class="grid gap-14 sm:grid-cols-3 sm:gap-8">
        {
          steps.map((step, i) => (
            <div data-reveal data-delay={String(i + 1)} class="relative text-center">
              {/* Large watermark number */}
              <div
                class="pointer-events-none absolute -top-8 left-1/2 -translate-x-1/2 select-none font-heading text-[7rem] font-bold leading-none text-primary/[0.04]"
                aria-hidden="true"
              >
                {step.number.padStart(2, "0")}
              </div>

              {/* Step circle */}
              <div class="relative mx-auto mb-7 flex h-[56px] w-[56px] items-center justify-center rounded-full bg-primary text-lg font-bold text-primary-foreground ring-4 ring-background shadow-md"
                style="box-shadow: 0 4px 20px oklch(0.541 0.225 259.02 / 0.2);"
              >
                {step.number}
              </div>

              {/* Icon */}
              <div class="mx-auto mb-3 flex h-10 w-10 items-center justify-center text-muted-foreground">
                {step.icon === "file-edit" && (
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="26"
                    height="26"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    aria-hidden="true"
                  >
                    <path d="M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" />
                    <path d="M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z" />
                  </svg>
                )}
                {step.icon === "smartphone" && (
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="26"
                    height="26"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    aria-hidden="true"
                  >
                    <rect width="14" height="20" x="5" y="2" rx="2" ry="2" />
                    <path d="M12 18h.01" />
                  </svg>
                )}
                {step.icon === "sparkles" && (
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="26"
                    height="26"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="1.5"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    aria-hidden="true"
                  >
                    <path d="M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z" />
                  </svg>
                )}
              </div>

              <p class="text-base font-medium text-foreground">{step.title}</p>
            </div>
          ))
        }
      </div>
    </div>
  </div>
</section>
